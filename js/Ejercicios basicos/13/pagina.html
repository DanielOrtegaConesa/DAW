<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Apuntes</title>
    <meta name="description" content="Mi pagina">
    <meta name="author" content="Dani">
    <link rel="stylesheet" type="text/css" href="estilo.css">
    <script src="codigo.js"></script>
</head>
<body>
<script>
    // xxxx      xxxx        xx        xxxxxxxxxx
    // entidad   banco       dc        cuenta

    var correcto = true;


    var idatos = prompt("Introduce los datos bancarios: xxxx xxxx xx xxxxxxxxxx")
    var adatos = idatos.split(" ");

    if (adatos.length == 4) {

        if (!esnumero(adatos[0])) {
            correcto = false;
        }
        if (!esnumero(adatos[1])) {
            correcto = false;
        }
        if (!esnumero(adatos[2])) {
            correcto = false;
        }
        if (!esnumero(adatos[3])) {
            correcto = false;
        }

        if (adatos[0].length != 4 || adatos[0] == null) {
            correcto = false
        }
        if (adatos[1].length != 4 || adatos[1] == null) {
            correcto = false
        }
        if (adatos[2].length != 2 || adatos[2] == null) {
            correcto = false
        }
        if (adatos[3].length != 10 || adatos[3] == null) {
            correcto = false
        }

    } else {
        correcto = false;
    }


    if (correcto) {
        document.write(adatos[0]);
        document.write("<br/>");
        document.write(adatos[1]);
        document.write("<br/>");
        document.write(adatos[2]);
        document.write("<br/>");
        document.write(adatos[3]);

        var pa1 = adatos[1][0];
        pa1 *= 4;
        var pa2 = adatos[1][1];
        pa2 *= 8;
        var pa3 = adatos[1][2];
        pa3 *= 5;
        var pa4 = adatos[1][3];
        pa4 *= 10;
        var pa5 = adatos[0][0];
        pa5 *= 9;
        var pa6 = adatos[0][1];
        pa6 *= 7;
        var pa7 = adatos[0][2];
        pa7 *= 3;
        var pa8 = adatos[0][3];
        pa8 *= 6;

        var par = pa1 + pa2 + pa3 + pa4 + pa5 + pa6 + pa7 + pa8;
        par %= 11;
        paf = (11 - par); // este dato es el resultado del primer numero
        if (paf >= 10) { // He puesto esto porque probandolo me ha llegado a dar 11 de resultado
            paf -= 10;   // Y he revisado varias veces el codigo, el cual es super simple y no he visto nada extraño
        }
        document.write("<p>Tu dc es: " + paf);


        var pb1 = adatos[3][0];
        pb1 *= 1;
        var pb2 = adatos[3][1];
        pb2 *= 2;
        var pb3 = adatos[3][2];
        pb3 *= 4;
        var pb4 = adatos[3][3];
        pb4 *= 8;
        var pb5 = adatos[3][4];
        pb5 *= 5;
        var pb6 = adatos[3][5];
        pb6 *= 10;
        var pb7 = adatos[3][6];
        pb7 *= 9;
        var pb8 = adatos[3][7];
        pb8 *= 7;
        var pb9 = adatos[3][8];
        pb9 *= 3;
        var pb10 = adatos[3][9];
        pb10 *= 6;

        var pbr = pb1 + pb2 + pb3 + pb4 + pb5 + pb6 + pb7 + pb8 + pb9 + pb10;
        pbr %= 11;
        pbf = (11 - pbr); // este dato es el resultado del segundo numero
        if (pbf >= 10) { // He puesto esto porque probandolo me ha llegado a dar 11 de resultado
            pbf -= 10;   // Y he revisado varias veces el codigo, el cual es super simple y no he visto nada extraño
        }
        document.write(pbr + "</p>");
    }else{
        window.alert("Formato incorrecto");
    }


</script>
</body>
</html>